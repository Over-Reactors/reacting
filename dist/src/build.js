(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/jessethach/cf-adv/reactful/src/js/crud_get.js":[function(require,module,exports){
//bear class
var Bear = React.createClass({displayName: "Bear",
  render: function() {
    return (
      React.createElement("div", {className: "bear"},
        React.createElement("h2", {className: "bearName"},
          "Name: ", this.props.name
        ),
        React.createElement("p", null,
          "Fish Preference: ", this.props.fishPreferences
        )
      )
    );
  }
});

//bear list
var BearList = React.createClass({displayName: "BearList",

  render: function() {
    var bearNodes = this.props.data.map(function(bear) {
      return (
        React.createElement("div", {key: bear._id},
        React.createElement(Bear, {name: bear.name, fishPreferences: bear.fishPreference}),


          React.createElement("button", {onClick:  function() {
            console.log(bear._id);
            $.ajax({
              url: 'http://localhost:3000/api/bears/' + bear._id,
              type: 'DELETE',
              cache: false,
              success: function(data) {
                console.log('gone!');
              }.bind(this),
              error: function(xhr, status, err) {
                console.error(this.props.url, status, err.toString());
              }.bind(this)
            });
          }}, "x"),

          React.createElement("form", {onSubmit: function(e){
              e.preventDefault();
              var newName = $('#newName').val().trim();
              var newFishPreference = $('#newFish').val().trim();
              if (!newFishPreference || !newName) {
                return;
              }
              $('#newName').val('');
              $('#newFish').val('');
              var newBear = {
                name: newName,
                fishPreference: newFishPreference,
              }
              $.ajax({
                url: 'http://localhost:3000/api/bears/' + bear._id,
                type: 'PUT',
                data: newBear,
                success: function(data) {
                console.log('changed!');
                }.bind(this),
                error: function(xhr, status, err) {
                  console.error(this.props.url, status, err.toString());
                }.bind(this)
                });
            }
          },

            React.createElement("input", {
              type: "text",
              id: "newName",
              placeholder: "Change Name"}
            ),
            React.createElement("input", {
              type: "text",
              placeholder: "Change Fish",
              id: "newFish"}
            ),
            React.createElement("button", {type: "submit"}, "update")
          )

        )
      );
    });
    return (
      React.createElement("div", {className: "bearList"},
        bearNodes
      )
    );
  }
});

//new bear
var BearForm = React.createClass({displayName: "BearForm",
  getInitialState: function() {
    return {name: '', fishPreference: ''};
  },
  handleNameChange: function(e) {
    this.setState({name: e.target.value});
  },
  handleFishPreferenceChange: function(e) {
    this.setState({fishPreference: e.target.value});
  },
  handleSubmit: function(e) {
    e.preventDefault();
    var name = this.state.name.trim();
    var fishPreference = this.state.fishPreference.trim();
    if (!fishPreference || !name) {
      return;
    }
    this.props.onBearSubmit({name: name, fishPreference: fishPreference});
    this.setState({name: '', fishPreference: ''});
  },
  render: function() {
    return (
      React.createElement("form", {className: "bearForm", onSubmit: this.handleSubmit},
        React.createElement("h2", null, "New Bear"),
        React.createElement("input", {
          type: "text",
          placeholder: "Bear Name",
          value: this.state.name,
          onChange: this.handleNameChange}
        ),
        React.createElement("input", {
          type: "text",
          placeholder: "fish preference",
          value: this.state.fishPreference,
          onChange: this.handleFishPreferenceChange}
        ),
        React.createElement("input", {type: "submit", value: "Post"})
      )
    );
  }
});

// get the bears and store them in data
var BearBox = React.createClass({displayName: "BearBox",
  loadBearsFromServer: function() {
    $.ajax({
      url: this.props.url,
      dataType: 'json',
      cache: false,
      success: function(data) {
        this.setState({data: data});
      }.bind(this),
      error: function(xhr, status, err) {
        console.error(this.props.url, status, err.toString());
      }.bind(this)
    });
  },
  handleBearSubmit: function(bear) {
    console.log(bear);
    $.ajax({
      url: this.props.url,
      dataType: 'json',
      type: 'POST',
      data: bear,
      success: function(data) {
        console.log('hooray');
      }.bind(this),
      error: function(xhr, status, err) {
        console.error(this.props.url, status, err.toString());
      }.bind(this)
    });
  },
  getInitialState: function() {
    return {data: []};
  },
  componentDidMount: function() {
    this.loadBearsFromServer();
    setInterval(this.loadBearsFromServer, this.props.pollInterval);
  },
  render: function() {
    return (
      React.createElement("div", {className: "bearBox"},
        React.createElement("h1", null, "BEARS"),
        React.createElement(BearList, {data: this.state.data}),
        React.createElement(BearForm, {onBearSubmit: this.handleBearSubmit})
      )
    );
  }
});

ReactDOM.render(
  React.createElement(BearBox, {url: "http://localhost:3000/api/bears", pollInterval: 1000}),
  document.getElementById('content')
);

},{}]},{},["/Users/jessethach/cf-adv/reactful/src/js/crud_get.js"])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamVzc2V0aGFjaC9jZi1hZHYvcmVhY3RmdWwvc3JjL2pzL2NydWRfZ2V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsWUFBWTtBQUNaLElBQUksMEJBQTBCLG9CQUFBO0VBQzVCLE1BQU0sRUFBRSxXQUFXO0lBQ2pCO01BQ0Usb0JBQUEsS0FBSSxFQUFBLENBQUEsQ0FBQyxTQUFBLEVBQVMsQ0FBQyxNQUFPLENBQUEsRUFBQTtRQUNwQixvQkFBQSxJQUFHLEVBQUEsQ0FBQSxDQUFDLFNBQUEsRUFBUyxDQUFDLFVBQVcsQ0FBQSxFQUFBO0FBQUEsVUFBQSxRQUFBLEVBQ2hCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSztRQUNwQixDQUFBLEVBQUE7UUFDTCxvQkFBQSxHQUFFLEVBQUEsSUFBQyxFQUFBO0FBQUEsVUFBQSxtQkFBQSxFQUNpQixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWdCO1FBQzNDLENBQUE7TUFDQSxDQUFBO01BQ047R0FDSDtBQUNILENBQUMsQ0FBQyxDQUFDOztBQUVILFdBQVc7QUFDWCxJQUFJLDhCQUE4Qix3QkFBQTs7RUFFaEMsTUFBTSxFQUFFLFdBQVc7SUFDakIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsSUFBSSxFQUFFO01BQ2pEO1FBQ0Usb0JBQUEsS0FBSSxFQUFBLENBQUEsQ0FBQyxHQUFBLEVBQUcsQ0FBRSxJQUFJLENBQUMsR0FBSSxDQUFFLENBQUEsRUFBQTtBQUM3QixRQUFRLG9CQUFDLElBQUksRUFBQSxDQUFBLENBQUMsSUFBQSxFQUFJLENBQUUsSUFBSSxDQUFDLElBQUksRUFBQyxDQUFDLGVBQUEsRUFBZSxDQUFFLElBQUksQ0FBQyxjQUFnQixDQUFPLENBQUEsRUFBQTtBQUM1RTs7VUFFVSxvQkFB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LENBQUM7R0FDbkI7RUFDRCxpQkFBaUIsRUFBRSxXQUFXO0lBQzVCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQzNCLFdBQVcsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztHQUNoRTtFQUNELE1BQU0sRUFBRSxXQUFXO0lBQ2pCO01BQ0Usb0JBQUEsS0FBSSxFQUFBLENBQUEsQ0FBQyxTQUFBLEVBQVMsQ0FBQyxTQUFVLENBQUEsRUFBQTtRQUN2QixvQkFBQSxJQUFHLEVBQUEsSUFBQyxFQUFBLE9BQVUsQ0FBQSxFQUFBO1FBQ2Qsb0JBQUMsUUFBUSxFQUFBLENBQUEsQ0FBQyxJQUFBLEVBQUksQ0FBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUssQ0FBQSxDQUFHLENBQUEsRUFBQTtRQUNuQyxvQkFBQyxRQUFRLEVBQUEsQ0FBQSxDQUFDLFlBQUEsRUFBWSxDQUFFLElBQUksQ0FBQyxnQkFBaUIsQ0FBQSxDQUFHLENBQUE7TUFDN0MsQ0FBQTtNQUNOO0dBQ0g7QUFDSCxDQUFDLENBQUMsQ0FBQzs7QUFFSCxRQUFRLENBQUMsTUFBTTtFQUNiLG9CQUFDLE9BQU8sRUFBQSxDQUFBLENBQUMsR0FBQSxFQUFHLENBQUMsaUNBQUEsRUFBaUMsQ0FBQyxZQUFBLEVBQVksQ0FBRSxJQUFLLENBQUEsQ0FBRyxDQUFBO0VBQ3JFLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDO0NBQ25DLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy9iZWFyIGNsYXNzXG52YXIgQmVhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZWFyXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJiZWFyTmFtZVwiPlxuICAgICAgICAgIE5hbWU6IHt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIEZpc2ggUHJlZmVyZW5jZToge3RoaXMucHJvcHMuZmlzaFByZWZlcmVuY2VzfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLy9iZWFyIGxpc3RcbnZhciBCZWFyTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBiZWFyTm9kZXMgPSB0aGlzLnByb3BzLmRhdGEubWFwKGZ1bmN0aW9uKGJlYXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYga2V5PXtiZWFyLl9pZH0gPlxuICAgICAgICA8QmVhciBuYW1lPXtiZWFyLm5hbWV9IGZpc2hQcmVmZXJlbmNlcz17YmVhci5maXNoUHJlZmVyZW5jZX0+PC9CZWFyPlxuXG5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGJlYXIuX2lkKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYmVhcnMvJyArIGJlYXIuX2lkLFxuICAgICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvbmUhJyk7XG4gICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMucHJvcHMudXJsLCBzdGF0dXMsIGVyci50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9fT54PC9idXR0b24+XG5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17ZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgdmFyIG5ld05hbWUgPSAkKCcjbmV3TmFtZScpLnZhbCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgdmFyIG5ld0Zpc2hQcmVmZXJlbmNlID0gJCgnI25ld0Zpc2gnKS52YWwoKS50cmltKCk7XG4gICAgICAgICAgICAgIGlmICghbmV3RmlzaFByZWZlcmVuY2UgfHwgIW5ld05hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJCgnI25ld05hbWUnKS52YWwoJycpO1xuICAgICAgICAgICAgICAkKCcjbmV3RmlzaCcpLnZhbCgnJyk7XG4gICAgICAgICAgICAgIHZhciBuZXdCZWFyID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5ld05hbWUsXG4gICAgICAgICAgICAgICAgZmlzaFByZWZlcmVuY2U6IG5ld0Zpc2hQcmVmZXJlbmNlLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9iZWFycy8nICsgYmVhci5faWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgICAgICAgICAgZGF0YTogbmV3QmVhcixcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NoYW5nZWQhJyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMucHJvcHMudXJsLCBzdGF0dXMsIGVyci50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9PlxuXG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBpZD1cIm5ld05hbWVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNoYW5nZSBOYW1lXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNoYW5nZSBGaXNoXCJcbiAgICAgICAgICAgICAgaWQ9XCJuZXdGaXNoXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj51cGRhdGU8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvcm0+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJlYXJMaXN0XCI+XG4gICAgICAgIHtiZWFyTm9kZXN9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLy9uZXcgYmVhclxudmFyIEJlYXJGb3JtID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7bmFtZTogJycsIGZpc2hQcmVmZXJlbmNlOiAnJ307XG4gIH0sXG4gIGhhbmRsZU5hbWVDaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtuYW1lOiBlLnRhcmdldC52YWx1ZX0pO1xuICB9LFxuICBoYW5kbGVGaXNoUHJlZmVyZW5jZUNoYW5nZTogZnVuY3Rpb24oZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2Zpc2hQcmVmZXJlbmNlOiBlLnRhcmdldC52YWx1ZX0pO1xuICB9LFxuICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnN0YXRlLm5hbWUudHJpbSgpO1xuICAgIHZhciBmaXNoUHJlZmVyZW5jZSA9IHRoaXMuc3RhdGUuZmlzaFByZWZlcmVuY2UudHJpbSgpO1xuICAgIGlmICghZmlzaFByZWZlcmVuY2UgfHwgIW5hbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkJlYXJTdWJtaXQoe25hbWU6IG5hbWUsIGZpc2hQcmVmZXJlbmNlOiBmaXNoUHJlZmVyZW5jZX0pO1xuICAgIHRoaXMuc2V0U3RhdGUoe25hbWU6ICcnLCBmaXNoUHJlZmVyZW5jZTogJyd9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiYmVhckZvcm1cIiBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8aDI+TmV3IEJlYXI8L2gyPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJCZWFyIE5hbWVcIlxuICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlTmFtZUNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZmlzaCBwcmVmZXJlbmNlXCJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5maXNoUHJlZmVyZW5jZX1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVGaXNoUHJlZmVyZW5jZUNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIlBvc3RcIiAvPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn0pO1xuXG4vLyBnZXQgdGhlIGJlYXJzIGFuZCBzdG9yZSB0aGVtIGluIGRhdGFcbnZhciBCZWFyQm94ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBsb2FkQmVhcnNGcm9tU2VydmVyOiBmdW5jdGlvbigpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLnByb3BzLnVybCxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBjYWNoZTogZmFsc2UsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2RhdGE6IGRhdGF9KTtcbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5wcm9wcy51cmwsIHN0YXR1cywgZXJyLnRvU3RyaW5nKCkpO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gIH0sXG4gIGhhbmRsZUJlYXJTdWJtaXQ6IGZ1bmN0aW9uKGJlYXIpIHtcbiAgICBjb25zb2xlLmxvZyhiZWFyKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLnByb3BzLnVybCxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICBkYXRhOiBiZWFyLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZygnaG9vcmF5Jyk7XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMucHJvcHMudXJsLCBzdGF0dXMsIGVyci50b1N0cmluZygpKTtcbiAgICAgIH0uYmluZCh0aGlzKVxuICAgIH0pO1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7ZGF0YTogW119O1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sb2FkQmVhcnNGcm9tU2VydmVyKCk7XG4gICAgc2V0SW50ZXJ2YWwodGhpcy5sb2FkQmVhcnNGcm9tU2VydmVyLCB0aGlzLnByb3BzLnBvbGxJbnRlcnZhbCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmVhckJveFwiPlxuICAgICAgICA8aDE+QkVBUlM8L2gxPlxuICAgICAgICA8QmVhckxpc3QgZGF0YT17dGhpcy5zdGF0ZS5kYXRhfSAvPlxuICAgICAgICA8QmVhckZvcm0gb25CZWFyU3VibWl0PXt0aGlzLmhhbmRsZUJlYXJTdWJtaXR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuUmVhY3RET00ucmVuZGVyKFxuICA8QmVhckJveCB1cmw9XCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2JlYXJzXCIgcG9sbEludGVydmFsPXsxMDAwfSAvPixcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKVxuKTtcbiJdfQ==
